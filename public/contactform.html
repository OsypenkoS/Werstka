<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Контактная форма</title>
    <!-- Подключи свои стили Tailwind CSS или другие -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        /* Добавь свои кастомные стили, если они есть */
        .gradient-caption {
            background: linear-gradient(to right, #7054A4, #2DC3EB);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .text-caption1 { font-size: 0.875rem; line-height: 1.25rem; } /* 14px */
        .text-h3 { font-size: 2.25rem; line-height: 2.5rem; } /* 36px */
        .text-body3 { font-size: 1.125rem; line-height: 1.75rem; } /* 18px */
        .text-body1 { font-size: 1rem; line-height: 1.5rem; } /* 16px */
        .text-button1 { font-size: 1rem; line-height: 1.5rem; } /* 16px */
        .text-brand-blue { color: #1A202C; } /* Пример цвета */
        .bg-brand-cyan { background-color: #2DC3EB; } /* Пример цвета */
        .border-brand-blue { border-color: #1A202C; } /* Пример цвета */
        .focus\:ring-brand-cyan:focus {
            --tw-ring-color: #2DC3EB;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">

    <!-- Contact Section -->
    <section id="contact" class="py-16">
        <div class="container mx-auto max-w-7xl px-6">

            <!-- Block 1: Centered Title Block -->
            <div class="text-left">
                <p class="gradient-caption text-caption1 tracking-widest mb-3 inline-block w-full md:w-auto uppercase">
                    Book a consultation
                </p>
                <h2 class="font-mono text-h3 font-bold text-brand-blue">
                    Connection Hero brings financial-grade<br> IT assurance to the hospitality world
                </h2>
                <p class="mt-6 text-body3 font-roboto text-text-main max-w-2xl ">
                    Let us help you operate with confidence, reduce digital risk,<br>
                    and prepare for whatever comes next.
                </p>
            </div>

            <!-- Block 2: Two-Column Layout for Form and Image -->
            <div class="mt-2 grid lg:grid-cols-2 gap-16">

                <!-- Form Column -->
                <form id="contactForm" class="mt-1 space-y-4">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <input type="text" name="firstName" placeholder="First Name" required
                            class="w-full p-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-cyan text-body1 font-roboto">
                        <input type="text" name="lastName" placeholder="Last Name" required
                            class="w-full p-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-cyan text-body1 font-roboto">
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <input type="email" name="email" placeholder="Email" required
                            class="w-full p-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-cyan text-body1 font-roboto">
                        <input type="tel" name="phone" placeholder="Phone Number"
                            class="w-full p-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-cyan text-body1 font-roboto">
                    </div>
                    <div>
                        <textarea name="message" placeholder="Message" rows="5" required
                            class="w-full p-4 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-cyan text-body1 font-roboto"></textarea>
                    </div>
                    <button type="submit"
                        class="w-full sm:w-auto py-4 px-8 rounded-full font-bold text-button1 font-roboto text-brand-blue bg-brand-cyan border border-brand-blue">SEND
                        MESSAGE</button>
                </form>

                <!-- Image Column (предполагается, что у тебя есть это изображение) -->
                <div class="relative flex justify-center items-center w-full py-8 lg:py-16 order-first lg:order-last -mt-24">
                    <div class="relative aspect-[833/692] w-[90%] max-w-sm sm:max-w-md lg:max-w-[833px] flex justify-center items-center">
                        <div class="absolute -inset-x-[20%] -inset-y-[20%] z-20 filter -translate-x-10 sm:-translate-x-16 md:-translate-x-24">
                            <svg class="w-full h-full opacity-75 blur-3xl" viewBox="0 0 833 692" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill="url(#gradImgContact)"
                                    d="M565.086 264.477C717.087 264.477 828 189.976 828 277.856C828 365.735 429.557 507 277.556 507C125.555 507 277.556 365.735 277.556 277.856C277.556 189.976 413.086 264.477 565.086 264.477Z" />
                                <defs>
                                    <linearGradient id="gradImgContact" x1="0" y1="0" x2="0" y2="1">
                                        <stop offset="0%" stop-color="#7054A4" />
                                        <stop offset="100%" stop-color="#2DC3EB" />
                                    </linearGradient>
                                </defs>
                            </svg>
                        </div>

                        <div class="absolute w-[80%] z-10 aspect-square rounded-full bg-brand-blue"></div>
                        <!-- Убедись, что путь к изображению верный, относительно public/ -->
                        <img src="./images/contact-section/contact-image.png" alt="Business meeting"
                            class="relative w-[80%] z-30 aspect-square rounded-full object-cover shadow-xl">
                    </div>
                </div>

            </div>
        </div>
    </section>

    <script>
        document.getElementById('contactForm').addEventListener('submit', async function(event) {
            event.preventDefault(); // Предотвращаем стандартную отправку формы

            const form = event.target;
            const formData = new FormData(form); // Собираем данные формы
            const data = Object.fromEntries(formData.entries()); // Преобразуем в объект {name: value}

            // Простая клиентская валидация (серверная валидация тоже есть!)
            if (!data.firstName || !data.lastName || !data.email || !data.message) {
                alert('Пожалуйста, заполните все обязательные поля: Имя, Фамилия, Email, Сообщение.');
                return; // Прекращаем выполнение, если поля не заполнены
            }

            try {
                // Отправляем данные на наш Node.js сервер
                const response = await fetch('http://localhost:3000/api/contact', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json' // Указываем, что отправляем JSON
                    },
                    body: JSON.stringify(data) // Преобразуем объект данных в JSON-строку
                });

                const result = await response.json(); // Парсим JSON-ответ от сервера

                if (result.success) {
                    alert('Сообщение успешно отправлено! Мы свяжемся с вами в ближайшее время.');
                    form.reset(); // Очищаем форму после успешной отправки
                } else {
                    alert('Произошла ошибка при отправке: ' + result.message);
                }
            } catch (error) {
                console.error('Ошибка при отправке запроса:', error);
                alert('Произошла непредвиденная ошибка при попытке отправить сообщение. Пожалуйста, проверьте консоль.');
            }
        });
    </script>
</body>
</html>